raw `
DiglettsCave_B1F_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, DiglettsCave_B1F_OnTransition
	.byte 0

DiglettsCave_B1F_OnTransition::
	setworldmapflag FLAG_WORLD_MAP_DIGLETTS_CAVE_B1F
	end

DiglettsCave_B1F_EventScript_Freddy::
	lock
	faceplayer
	goto_if_set FLAG_DEFEATED_FREDDY, DiglettsCave_B1F_EventScript_RematchFreddy
	msgbox DiglettsCave_B1F_Text_Freddy, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, DiglettsCave_B1F_EventScript_NoFreddy
	trainerbattle_single TRAINER_FREDDY, DiglettsCave_B1F_Text_YesFreddy, DiglettsCave_B1F_Text_FreddyDefeat, DiglettsCave_B1F_EventScript_PostFreddy, NO_MUSIC
	release
	end

DiglettsCave_B1F_EventScript_PostFreddy::
	msgbox DiglettsCave_B1F_Text_FreddyPostBattle
	setflag FLAG_DEFEATED_FREDDY
	cleartrainerflag TRAINER_FREDDY
	release
	end

DiglettsCave_B1F_EventScript_NoFreddy::
	msgbox DiglettsCave_B1F_Text_NoFreddy
	release
	end

DiglettsCave_B1F_EventScript_RematchFreddy::
	msgbox DiglettsCave_B1F_Text_RematchFreddy, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, DiglettsCave_B1F_EventScript_NoFreddy
	trainerbattle_single TRAINER_FREDDY, DiglettsCave_B1F_Text_YesFreddy, DiglettsCave_B1F_Text_RematchFreddyDefeat, DiglettsCave_B1F_EventScript_PostRematchFreddy, NO_MUSIC
	release
	end

DiglettsCave_B1F_EventScript_PostRematchFreddy::
	msgbox DiglettsCave_B1F_Text_PostRematchFreddy
	cleartrainerflag TRAINER_FREDDY
	release
	end

DiglettsCave_B1F_EventScript_OrbingCheck::
	lock
	faceplayer
	msgbox DiglettsCave_B1F_Text_OrbingCheck, MSGBOX_DEFAULT
	release
	end

DiglettsCave_B1F_Text_Freddy:
	.string "Hey! You look like a tough\n"
	.string "TRAINER!\p"
	.string "Want to have a battle?$"

DiglettsCave_B1F_Text_FreddyDefeat:
	.string "Wow, you're strong!$"

DiglettsCave_B1F_Text_FreddyPostBattle:
	.string "That was a great battle!\n"
	.string "Come back anytime!$"

DiglettsCave_B1F_Text_NoFreddy:
	.string "That's too bad.\n"
	.string "Maybe next time!$"

DiglettsCave_B1F_Text_OrbingCheck:
	.string "The orbs are glowing with a strange\n"
	.string "light...$"

DiglettsCave_B1F_Text_RematchFreddy:
	.string "You want to battle again?$"

DiglettsCave_B1F_Text_YesFreddy:
	.string "Let's do this!$"

DiglettsCave_B1F_Text_RematchFreddyDefeat:
	.string "You got me again...$"

DiglettsCave_B1F_Text_PostRematchFreddy:
	.string "Good battle as always.$"

`
